@startuml
skinparam componentStyle rectangle
skinparam packageStyle rectangle
skinparam linetype ortho
skinparam nodesep 80
skinparam ranksep 100
left to right direction

component "circular/cmd/circular\n(0 funcs, 1 files)\n(d=13 in=0 out=1)\n(imp=1.0)\n(cx=1)" as circular_cmd_circular
component "circular/internal/core/app\n(0 funcs, 15 files)\n(d=11 in=1 out=15)\n(imp=17.0)\n(cx=1)" as circular_internal_core_app
component "circular/internal/core/app/helpers\n(0 funcs, 5 files)\n(d=10 in=1 out=7)\n(imp=9.0)" as circular_internal_core_app_helpers
component "circular/internal/core/config\n(0 funcs, 7 files)\n(d=1 in=7 out=2)\n(imp=16.0)" as circular_internal_core_config
component "circular/internal/core/config/helpers\n(0 funcs, 1 files)\n(d=0 in=1 out=0)\n(imp=2.0)" as circular_internal_core_config_helpers
component "circular/internal/core/errors\n(0 funcs, 1 files)\n(d=0 in=3 out=0)\n(imp=6.0)" as circular_internal_core_errors
component "circular/internal/core/ports\n(0 funcs, 1 files)\n(d=6 in=6 out=6)\n(imp=18.0)" as circular_internal_core_ports
component "circular/internal/core/watcher\n(0 funcs, 1 files)\n(d=1 in=1 out=1)\n(imp=3.0)" as circular_internal_core_watcher
component "circular/internal/data/history\n(0 funcs, 6 files)\n(d=0 in=7 out=0)\n(imp=14.0)" as circular_internal_data_history
component "circular/internal/data/query\n(0 funcs, 3 files)\n(d=5 in=3 out=2)\n(imp=8.0)" as circular_internal_data_query
component "circular/internal/engine/graph\n(0 funcs, 12 files)\n(d=4 in=8 out=3)\n(imp=19.0)" as circular_internal_engine_graph
component "circular/internal/engine/parser\n(0 funcs, 17 files)\n(d=3 in=10 out=4)\n(imp=24.0)" as circular_internal_engine_parser
component "circular/internal/engine/parser/extractors\n(0 funcs, 1 files)\n(d=4 in=0 out=1)\n(imp=1.0)" as circular_internal_engine_parser_extractors
component "circular/internal/engine/parser/grammar\n(0 funcs, 4 files)\n(d=2 in=1 out=1)\n(imp=3.0)" as circular_internal_engine_parser_grammar
component "circular/internal/engine/parser/registry\n(0 funcs, 1 files)\n(d=1 in=2 out=1)\n(imp=5.0)" as circular_internal_engine_parser_registry
component "circular/internal/engine/resolver\n(0 funcs, 10 files)\n(d=5 in=4 out=4)\n(imp=12.0)" as circular_internal_engine_resolver
component "circular/internal/engine/resolver/drivers\n(0 funcs, 5 files)\n(d=0 in=1 out=0)\n(imp=2.0)" as circular_internal_engine_resolver_drivers
component "circular/internal/engine/secrets\n(0 funcs, 3 files)\n(d=7 in=5 out=3)\n(imp=13.0)" as circular_internal_engine_secrets
component "circular/internal/mcp/adapters\n(0 funcs, 1 files)\n(d=8 in=5 out=7)\n(imp=17.0)" as circular_internal_mcp_adapters
component "circular/internal/mcp/contracts\n(0 funcs, 1 files)\n(d=0 in=12 out=0)\n(imp=24.0)" as circular_internal_mcp_contracts
component "circular/internal/mcp/openapi\n(0 funcs, 3 files)\n(d=1 in=1 out=1)\n(imp=13.0)" as circular_internal_mcp_openapi
component "circular/internal/mcp/registry\n(0 funcs, 1 files)\n(d=0 in=1 out=0)\n(imp=2.0)" as circular_internal_mcp_registry
component "circular/internal/mcp/runtime\n(0 funcs, 5 files)\n(d=10 in=1 out=17)\n(imp=19.0)" as circular_internal_mcp_runtime
component "circular/internal/mcp/schema\n(0 funcs, 1 files)\n(d=1 in=1 out=1)\n(imp=3.0)" as circular_internal_mcp_schema
component "circular/internal/mcp/tools/graph\n(0 funcs, 1 files)\n(d=9 in=1 out=2)\n(imp=4.0)" as circular_internal_mcp_tools_graph
component "circular/internal/mcp/tools/overlays\n(0 funcs, 1 files)\n(d=5 in=0 out=1)\n(imp=1.0)" as circular_internal_mcp_tools_overlays
component "circular/internal/mcp/tools/query\n(0 funcs, 1 files)\n(d=9 in=1 out=2)\n(imp=4.0)" as circular_internal_mcp_tools_query
component "circular/internal/mcp/tools/report\n(0 funcs, 1 files)\n(d=1 in=1 out=1)\n(imp=3.0)" as circular_internal_mcp_tools_report
component "circular/internal/mcp/tools/scan\n(0 funcs, 1 files)\n(d=9 in=1 out=2)\n(imp=4.0)" as circular_internal_mcp_tools_scan
component "circular/internal/mcp/tools/secrets\n(0 funcs, 1 files)\n(d=9 in=1 out=2)\n(imp=4.0)" as circular_internal_mcp_tools_secrets
component "circular/internal/mcp/tools/system\n(0 funcs, 1 files)\n(d=1 in=1 out=1)\n(imp=3.0)" as circular_internal_mcp_tools_system
component "circular/internal/mcp/transport\n(0 funcs, 3 files)\n(d=2 in=1 out=4)\n(imp=6.0)" as circular_internal_mcp_transport
component "circular/internal/mcp/validate\n(0 funcs, 1 files)\n(d=1 in=1 out=2)\n(imp=4.0)" as circular_internal_mcp_validate
component "circular/internal/shared/observability\n(0 funcs, 2 files)\n(d=0 in=6 out=0)\n(imp=12.0)" as circular_internal_shared_observability
component "circular/internal/shared/util\n(0 funcs, 5 files)\n(d=0 in=11 out=0)\n(imp=22.0)" as circular_internal_shared_util
component "circular/internal/shared/version\n(0 funcs, 1 files)\n(d=0 in=4 out=0)\n(imp=8.0)" as circular_internal_shared_version
component "circular/internal/ui/cli\n(0 funcs, 9 files)\n(d=12 in=1 out=14)\n(imp=16.0)" as circular_internal_ui_cli
component "circular/internal/ui/report\n(0 funcs, 4 files)\n(d=9 in=3 out=3)\n(imp=9.0)" as circular_internal_ui_report
component "circular/internal/ui/report/formats\n(0 funcs, 10 files)\n(d=8 in=2 out=6)\n(imp=10.0)" as circular_internal_ui_report_formats
component "External/Stdlib\n(66 modules)" as __external_aggregate__ #DDDDDD

circular_cmd_circular --> circular_internal_ui_cli
circular_internal_core_app --> circular_internal_core_app_helpers
circular_internal_core_app --> circular_internal_core_config
circular_internal_core_app --> circular_internal_core_errors
circular_internal_core_app --> circular_internal_core_ports
circular_internal_core_app --> circular_internal_core_watcher
circular_internal_core_app --> circular_internal_data_history
circular_internal_core_app --> circular_internal_data_query
circular_internal_core_app --> circular_internal_engine_graph
circular_internal_core_app --> circular_internal_engine_parser
circular_internal_core_app --> circular_internal_engine_resolver
circular_internal_core_app --> circular_internal_engine_secrets
circular_internal_core_app --> circular_internal_shared_observability
circular_internal_core_app --> circular_internal_shared_util
circular_internal_core_app --> circular_internal_shared_version
circular_internal_core_app --> circular_internal_ui_report
circular_internal_core_app_helpers --> circular_internal_core_config
circular_internal_core_app_helpers --> circular_internal_core_ports
circular_internal_core_app_helpers --> circular_internal_engine_graph
circular_internal_core_app_helpers --> circular_internal_engine_parser
circular_internal_core_app_helpers --> circular_internal_engine_secrets
circular_internal_core_app_helpers --> circular_internal_shared_util
circular_internal_core_app_helpers --> circular_internal_ui_report
circular_internal_core_config --> circular_internal_core_config_helpers
circular_internal_core_config --> circular_internal_shared_version
circular_internal_core_ports --> circular_internal_core_config
circular_internal_core_ports --> circular_internal_data_history
circular_internal_core_ports --> circular_internal_data_query
circular_internal_core_ports --> circular_internal_engine_graph
circular_internal_core_ports --> circular_internal_engine_parser
circular_internal_core_ports --> circular_internal_engine_resolver
circular_internal_core_watcher --> circular_internal_shared_observability
circular_internal_data_query --> circular_internal_data_history
circular_internal_data_query --> circular_internal_engine_graph
circular_internal_engine_graph --> circular_internal_engine_parser
circular_internal_engine_graph --> circular_internal_shared_observability
circular_internal_engine_graph --> circular_internal_shared_util
circular_internal_engine_parser --> circular_internal_core_errors
circular_internal_engine_parser --> circular_internal_engine_parser_grammar
circular_internal_engine_parser --> circular_internal_engine_parser_registry
circular_internal_engine_parser --> circular_internal_shared_util
circular_internal_engine_parser_extractors --> circular_internal_engine_parser
circular_internal_engine_parser_grammar --> circular_internal_engine_parser_registry
circular_internal_engine_parser_registry --> circular_internal_shared_util
circular_internal_engine_resolver --> circular_internal_engine_graph
circular_internal_engine_resolver --> circular_internal_engine_parser
circular_internal_engine_resolver --> circular_internal_engine_resolver_drivers
circular_internal_engine_resolver --> circular_internal_shared_observability
circular_internal_engine_secrets --> circular_internal_core_config
circular_internal_engine_secrets --> circular_internal_core_ports
circular_internal_engine_secrets --> circular_internal_engine_parser
circular_internal_mcp_adapters --> circular_internal_core_errors
circular_internal_mcp_adapters --> circular_internal_core_ports
circular_internal_mcp_adapters --> circular_internal_data_history
circular_internal_mcp_adapters --> circular_internal_engine_parser
circular_internal_mcp_adapters --> circular_internal_engine_secrets
circular_internal_mcp_adapters --> circular_internal_mcp_contracts
circular_internal_mcp_adapters --> circular_internal_shared_util
circular_internal_mcp_openapi --> circular_internal_mcp_contracts
circular_internal_mcp_runtime --> circular_internal_core_config
circular_internal_mcp_runtime --> circular_internal_core_ports
circular_internal_mcp_runtime --> circular_internal_data_history
circular_internal_mcp_runtime --> circular_internal_mcp_adapters
circular_internal_mcp_runtime --> circular_internal_mcp_contracts
circular_internal_mcp_runtime --> circular_internal_mcp_openapi
circular_internal_mcp_runtime --> circular_internal_mcp_registry
circular_internal_mcp_runtime --> circular_internal_mcp_tools_graph
circular_internal_mcp_runtime --> circular_internal_mcp_tools_query
circular_internal_mcp_runtime --> circular_internal_mcp_tools_report
circular_internal_mcp_runtime --> circular_internal_mcp_tools_scan
circular_internal_mcp_runtime --> circular_internal_mcp_tools_secrets
circular_internal_mcp_runtime --> circular_internal_mcp_tools_system
circular_internal_mcp_runtime --> circular_internal_mcp_transport
circular_internal_mcp_runtime --> circular_internal_mcp_validate
circular_internal_mcp_runtime --> circular_internal_shared_observability
circular_internal_mcp_runtime --> circular_internal_shared_util
circular_internal_mcp_schema --> circular_internal_mcp_contracts
circular_internal_mcp_tools_graph --> circular_internal_mcp_adapters
circular_internal_mcp_tools_graph --> circular_internal_mcp_contracts
circular_internal_mcp_tools_overlays --> circular_internal_engine_graph
circular_internal_mcp_tools_query --> circular_internal_mcp_adapters
circular_internal_mcp_tools_query --> circular_internal_mcp_contracts
circular_internal_mcp_tools_report --> circular_internal_mcp_contracts
circular_internal_mcp_tools_scan --> circular_internal_mcp_adapters
circular_internal_mcp_tools_scan --> circular_internal_mcp_contracts
circular_internal_mcp_tools_secrets --> circular_internal_mcp_adapters
circular_internal_mcp_tools_secrets --> circular_internal_mcp_contracts
circular_internal_mcp_tools_system --> circular_internal_mcp_contracts
circular_internal_mcp_transport --> circular_internal_core_config
circular_internal_mcp_transport --> circular_internal_mcp_contracts
circular_internal_mcp_transport --> circular_internal_mcp_schema
circular_internal_mcp_transport --> circular_internal_shared_util
circular_internal_mcp_validate --> circular_internal_mcp_contracts
circular_internal_mcp_validate --> circular_internal_shared_util
circular_internal_ui_cli --> circular_internal_core_app
circular_internal_ui_cli --> circular_internal_core_config
circular_internal_ui_cli --> circular_internal_core_ports
circular_internal_ui_cli --> circular_internal_data_history
circular_internal_ui_cli --> circular_internal_data_query
circular_internal_ui_cli --> circular_internal_engine_parser
circular_internal_ui_cli --> circular_internal_engine_resolver
circular_internal_ui_cli --> circular_internal_engine_secrets
circular_internal_ui_cli --> circular_internal_mcp_runtime
circular_internal_ui_cli --> circular_internal_shared_observability
circular_internal_ui_cli --> circular_internal_shared_util
circular_internal_ui_cli --> circular_internal_shared_version
circular_internal_ui_cli --> circular_internal_ui_report
circular_internal_ui_cli --> circular_internal_ui_report_formats
circular_internal_ui_report --> circular_internal_data_history
circular_internal_ui_report --> circular_internal_engine_graph
circular_internal_ui_report --> circular_internal_ui_report_formats
circular_internal_ui_report_formats --> circular_internal_engine_graph
circular_internal_ui_report_formats --> circular_internal_engine_parser
circular_internal_ui_report_formats --> circular_internal_engine_resolver
circular_internal_ui_report_formats --> circular_internal_engine_secrets
circular_internal_ui_report_formats --> circular_internal_shared_util
circular_internal_ui_report_formats --> circular_internal_shared_version
circular_cmd_circular -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_core_app -[#777777,dashed]-> __external_aggregate__ : ext:12
circular_internal_core_app_helpers -[#777777,dashed]-> __external_aggregate__ : ext:6
circular_internal_core_config -[#777777,dashed]-> __external_aggregate__ : ext:12
circular_internal_core_config_helpers -[#777777,dashed]-> __external_aggregate__ : ext:3
circular_internal_core_errors -[#777777,dashed]-> __external_aggregate__ : ext:2
circular_internal_core_ports -[#777777,dashed]-> __external_aggregate__ : ext:2
circular_internal_core_watcher -[#777777,dashed]-> __external_aggregate__ : ext:10
circular_internal_data_history -[#777777,dashed]-> __external_aggregate__ : ext:12
circular_internal_data_query -[#777777,dashed]-> __external_aggregate__ : ext:7
circular_internal_engine_graph -[#777777,dashed]-> __external_aggregate__ : ext:14
circular_internal_engine_parser -[#777777,dashed]-> __external_aggregate__ : ext:25
circular_internal_engine_parser_grammar -[#777777,dashed]-> __external_aggregate__ : ext:10
circular_internal_engine_parser_registry -[#777777,dashed]-> __external_aggregate__ : ext:4
circular_internal_engine_resolver -[#777777,dashed]-> __external_aggregate__ : ext:12
circular_internal_engine_resolver_drivers -[#777777,dashed]-> __external_aggregate__ : ext:5
circular_internal_engine_secrets -[#777777,dashed]-> __external_aggregate__ : ext:11
circular_internal_mcp_adapters -[#777777,dashed]-> __external_aggregate__ : ext:8
circular_internal_mcp_contracts -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_mcp_openapi -[#777777,dashed]-> __external_aggregate__ : ext:10
circular_internal_mcp_registry -[#777777,dashed]-> __external_aggregate__ : ext:3
circular_internal_mcp_runtime -[#777777,dashed]-> __external_aggregate__ : ext:10
circular_internal_mcp_tools_graph -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_mcp_tools_overlays -[#777777,dashed]-> __external_aggregate__ : ext:4
circular_internal_mcp_tools_query -[#777777,dashed]-> __external_aggregate__ : ext:4
circular_internal_mcp_tools_report -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_mcp_tools_scan -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_mcp_tools_secrets -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_mcp_tools_system -[#777777,dashed]-> __external_aggregate__ : ext:1
circular_internal_mcp_transport -[#777777,dashed]-> __external_aggregate__ : ext:12
circular_internal_mcp_validate -[#777777,dashed]-> __external_aggregate__ : ext:4
circular_internal_shared_observability -[#777777,dashed]-> __external_aggregate__ : ext:9
circular_internal_shared_util -[#777777,dashed]-> __external_aggregate__ : ext:13
circular_internal_ui_cli -[#777777,dashed]-> __external_aggregate__ : ext:20
circular_internal_ui_report -[#777777,dashed]-> __external_aggregate__ : ext:6
circular_internal_ui_report_formats -[#777777,dashed]-> __external_aggregate__ : ext:7

legend right
|= Item |= Meaning |
|Node line 1|Module name|
|Node line 2|Function/export count and file count|
|d|Dependency depth|
|in|Fan-in (number of internal modules importing this module)|
|out|Fan-out (number of internal modules this module imports)|
|cx|Top complexity hotspot score in the module|
|<color:#DDDDDD>Component</color>|External module|
|ext:N|Count of external dependencies from that module (aggregated mode)|
endlegend

@enduml
