# Circular Output Analysis Report
# Generated: 2026-02-21

This report analyzes the various outputs generated by the Circular dependency tool when executed with all output targets and diagram modes enabled.

## 1. Executive Summary of Generated Outputs

| Output Format | File Path | Size | Purpose |
| --- | --- | --- | --- |
| **Markdown** | `analysis-report.md` | ~90 KB | Comprehensive human-readable audit report. |
| **TSV** | `dependencies.tsv` | ~60 KB | Raw dependency data for programmatic consumption. |
| **DOT** | `graph.dot` | ~46 KB | Full graph representation for Graphviz visualization. |
| **Mermaid** | `docs/diagrams/*.mmd` | Varies | Interactive diagrams for GitHub/Markdown preview. |
| **PlantUML** | `docs/diagrams/*.puml` | Varies | Professional-grade architecture diagrams. |

## 2. Analysis of Report Content

### 2.1 Dependency Health
- **Circular Imports:** 0 detected. The project structure is strictly hierarchical.
- **Architecture Violations:** 0 detected. The mapping between `cmd`, `internal/core`, `internal/engine`, and `internal/data` is currently compliant with the configured rules.

### 2.2 Complexity Analysis
- The tool identifies hotspots based on a scoring system (Branches, Params, Nesting, LOC).
- **Top Hotspots:**
  1. `circular/internal/core/app` (AnalysisService, AnalyzeHallucinations)
  2. `circular/cmd/circular` (main)

### 2.3 Reference Resolution
- **Unresolved References (1158):** This is the largest section. 
  - *Observation:* Many "unresolved" items are method calls on internal variables (e.g., `g.mu.RLock`, `b.WriteString`).
  - *Inference:* The parser is accurately capturing the calls, but the resolver lacks the scope-depth to connect them to their declarations when those declarations are implicitly handled or part of standard interfaces.
- **Unused Imports (100):**
  - *Observation:* Includes many standard library imports (`fmt`, `sort`, `strings`).
  - *Risk:* High false-positive rate if symbols used via these packages are not correctly traced.

## 3. Diagram Mode Evaluation

The following diagram modes were successfully exercised:

1.  **Architecture:** Maps high-level layers (cmd, core, engine, data, shared).
2.  **Component:** Shows internal symbol-level nodes within modules.
3.  **Flow:** Traces imports from an entry point (`cmd/circular/main.go`) up to a depth of 8.
4.  **Dependency:** Standard module-to-module import graph.

## 4. Recommendations for Configuration Tuning

Based on this output review, the following adjustments to `circular.toml` are recommended:

1.  **Symbols to Exclude:** Add `mu`, `RLock`, `RUnlock`, `WriteString`, and `Error` to `[exclude].symbols` to reduce noise in unresolved references.
2.  **Imports to Exclude:** Standardize a common set of stdlib packages in `[exclude].imports`.
3.  **Complexity Thresholds:** Increase `top_complexity` if the current hotspots are considered acceptable "thick" services.

---
*Report generated by Gemini CLI.*
